---
published: true
layout: post
title: "ngConf 2015 - Day 3 - Conference"
description: "ngConf 2015 - Conference Day 1"
modified: 2015-03-06
tags: [angularjs, ngConf, 2015]
comments: true
share: true 
image:
  feature: abstract-6.jpg
  credit: dargadgetz
  creditlink: http://www.dargadgetz.com/ios-7-abstract-wallpaper-pack-for-iphone-5-and-ipod-touch-retina/
---

**Update 11:30am:**

## Web Components - Rachel Moore, Kara Erickson (OpenTable)

### Challenge: Building a site-component which has head, nav, main and footer content.

- Web Components provide the ability to do this natively
- Native web components are using the shadow DOM to draw themselves

{% highlight js %}
Code:
host.shadowRoot.innerHTML = `
  ...
  <content select="[head]"/>
  ...
`

Tag:
<ot-site>
  <div head>My header content</div>
  ...
</ot-site>
{% endhighlight %}


### Building <ot-site> in Angular 1.3

- Use transclusion to pass html content into a component
- Set directive's transclude property to `true`
- But Angular can't have multiple `ng-transcude` blocks in a template. So need a way to match head, menu, main to places in the template.
- Can do this inside the `transclude()` function
  - Can do this in directive controller or in link function. Link function is best in this case due to all the bindings existing at this point in time


### Building <ot-site> in Angular 2

- Has component directive
- Transclusion replaced with Web Component functionality (Shadow DOM)
- Web components do most of the work for us
- Manually configuring scope replaced with a a default isolate scope.
- DDO syntax replaced with Component Class and annotation metadata



**Update 11:05am:**

## Fast from the Start - Jeff Cross (Angular Google)

Talking about a tool called Benchpress to help measure Angular 2 fast from the start. Speed, Responsive, Smooth.

- It should be fast by default

### Angular 1 Performance

- Performance became an issue in certain use cases
- Have to know a lot about Angular to work around issues
- Chrome Profiler is good for analysing, but looking for something to do measurement

### Benchpress v1

- Allows the writing of macro-performance tests (test whole parts of app, whole use-cases, not just single functions)
- Script execution time, retained memory, garbage size, garbage collection time
- Started with benchmarking using a test called 'large table', and another called 'deep tree'.
- Old version of Becnhpress had issues though: was completely web-based, difficult to automate

### Benchpress v2

- Needed to be able to work on mobile browsers
- Collects data via Webdriver
- Targeting Angular 2
- Uses a library called `perfUtil`
- Can run during CI now

## So what?

- Makes framework faster
- You can use in your own CI setup!
- Runs in Protractor
- Best practice: Only do this once component is functionaly complete, focus on most-used/worst components first
- `npm install benchpress`
- `ngTasty` uses it (upcoming presentation)




**Update 10:40am:**

## Prototyping with Angular - Kelly Knight, Dirk Ginader - Google UX Engineers

- Sometimes you don't want to create a real app, you just want to do a prototype for an idea, quickly
- They've put together some tools to make it easy to prototype
- About doing the minimum amount of work to answer a question. It should be hacky.

### Instrumentation

- We want to measure which prototype is the best
- Use Google Analytics as instrumentation tool
- Use `angular-google-analytics` module with event tracking. http://dir.kg/ng-ga
- Data driven design decisions

### Changing the POC easily

- Using the prototype to design in the browser
- Put different options into the UI, so you can see how different designs look in real time. Can make the options stateParams/
  queryParams for quick testing.
- Can use the Speech API on mobile to listen for the parameter names and change the key-value pairs on-the-fly

### Accessibility

- POSH: Plain old Semantic HTML
- If it's a navigation, use a link. Anything else, is a button
- Use ARIA for rich apps. Use roles.
- Keyboard support is still necessary for POCs
- Use of ngAria, it adds extra properties based on role attribute

### Data

- It's important to use the most realistic data available, so that user's don't focus on the unrealistic-ness of the data
- Use Google Sheets as a data-source. Allows less-technical people to work on prototype.
  - Google App Scripts is how you get the data from Sheets, Docs, Maps, etc.
  - script.google.com
  - Create a script, deploy it as a web app. That gives you a URL, which your Angular App can then fetch.
  - But can create a directive to wrap all this functionality: `<ux-data>` (Not available publicly?)
  
Sponsor: McGraw-Hill
  




**Update 10:20am:**

## The New Router - Brian Ford

- History:
  - ngRoute is too simple for complex apps
  - Angular 2 needs better router, looked at other routers. 
  - Based on Durandal, ...
  - Could we migrate to 1.x?
  
- Yes: New router is transpiled to ES5 and implemented as Angular 1 module

### How it works

- `ngNewRouter` module + `.$routConfig` array + `<ng-viewport>` + `<ng-link>`
- Relies on `<base href="">`
- Can parameterize path /path/:id
- Lifecycle Hooks:
  - canDeactivate function, on controller, which allows you to do dtuff like show a warning if there is unsaved data
  - canReactivate (old), canDeactivate (old), instantiate (new), canActivate (new), deactivate (old), activate (new)
- Can run Angular 2 inside Angular 1, or Angular 1 inside Angular 2.
- Based on Ember's route-recognizer module

### Future

- ngRoute not going anywhere, but not enhanced.
- Why not ui-router? It isn't focused on migrating from 1 to 2. UI Router is focussed on 1 only. but there are plans to
  create a migration path.
- Router 1.0 released with Angular 1.4, and is just getting started


**Update 10:00am:**

## State of Angular 1 - Lucas Mirelmann & Pawel Kozlowski

- PayPal Checkout is an Angular app.
- Community: in last 6 months, community on GitHub has doubled (PRs, issues, comments)
  - 50% of commits comes from the community, and growing
- Releases:
  - 1.3: a few small new features
  - 1.4: 35+ new features, 140+ bugs fixed, performance improvements
  
### What's in 1.4

- New Router - Fixes lots of issues that people struggle with (next presentation)
- Internationalization: Presentation tomorrow from the guys that did angular-translate
- ng-animate: more robust & dynamic & flexible (presentation tomorrow)
- ng-messages, more dynamic messages, with multiple "includes"
- ng-cookies: ability to set path and domain, easier cookie update process (fixes old issues)
- ~30% faster digest times compared to 1.3, 2-4% lower memory footprint (varies by browser/application)
- Supports same browsers as 1.3 (IE9 supported), very few breaking changes.

### Future

- Community involvement is the key. Comment/vote on issues.
- 1.5 will be a step towards Angular 2.
- Shorter release cycles (within 6 months of previous release, and getting faster).
- How to 

Slides: ...

Sponsor: PluralSight. Looking for authors, all it takes is willingness to share knowledge.



**Update 9:00am:**
Conference about to begin! Domo is sponsoring the event. Thanking sponsors, admin stuff. 150+ ng-extended events tuning
in to the live stream. Conference is completely community driven, not by Google.

## Core team keynote - Brad Green & Igor Minor
Driving principles: Being good caretakers of Angular community & code.

Different project models, different levels of control. Angular is using 'open source with community involvement',
which has least control but caters for more use cases and more integration points, and fewer bugs.

Angular team has grown in last 12 months, and some companies have sponsored own employees to work on Angular inside Google,
but employed by own company. Pete Bacon Darwin is now Angular 1.x lead. Igor is Angular 2.x lead.

v1.4: Internationalisation, Routing, performance. New router coming. New 18n. RC coming in next week.

Angular Material design project - Google's answer to single UI framework for mobile, tablet & desktop. Built to be accessible.
Layout based on Flexbox. Should be available by July.

Angular 1.5+ is about paving the way to Angular 2.

Almost 1 million hits on angularjs.org per day.

Angular 2 website: angular.io. Will be using usage stats to work out how long to keep supporting & releasing 1.x code.

Migration strategies: Big Bang, or incremental. 
Incremental: You can mix and match views between angular 1 and angular 2 using the new router.

Style guide for Angular 1 by John Papa and Todd Motto will make it easier to migrate to v2.

### Angular 2

Themes:
- simpler
- flexible
- faster
- more productivity

Now in alpha.

All key features in 1.x are in 2, plus new things:

- Productivity:
  - Making it easier for devs to build. AtScript is an extension of ES5 to make it like ES6 so you can use 
    it now, plus types, plus annotations. But AtScript is not Angular specific, want to make it usable for all. Lots of 
    other Google teams are interested in this, including FaceBook & Microsoft.
  - Jonathon Turner (TypeScript, Microsoft) is on stage to talk about collaboration between TypeScript and AtScript.
    Annotations help with separation of concerns. TypeScript 1.5+ has good support for Annotations now + more ES6 features.
  - **AtScript is now retired, and has become TypeScript!** TypeScript is still optional for development.
- Dart: Allows more people to work on Angular and get ideas/innovation
- See Ember, React as partners rather than competition. Make friends, not enemies.
- Simpler: 
  - Making component model the default approach for building UI.
  - Generalising different kinds of components into 4 main types.
  - Better use of tools to help building. Using EmberCLI (for example).
  - **Zones** allow you to hook into browser events to  trigger angular events (no more need to call $apply()).
  - **Unidirectional** event system (like React) to make code more predictable. ngModel will still feel the same.
  - Fixing typos automatically. APIs mirror your needs (better defaults).
  - Using browser standards to make things simpler. E.g. module system, with backwards compatibility. Shadow DOM
- Performance:
  - Benchmark suite: Deep Tree tool. Speed Baseline: 1 (smaller is better), Angular 1.3: 8.58, Angular 2 start: 3.11, Angular 2
    with view cache: 1.4. Plus better memory performance
  - Immutable data structures: Better performance

Angular 2 ships probably after May 2015 (after migrating a large Angular 1.x app which is inside Google).

#whyruhere #ngconf

Slides: http://goo.gl/bae2af



