
<!DOCTYPE html>
<html lang="en">
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="Brett Uglow&#39;s Blog">
    <title>File-include plugins for GruntJS - Brett Ugl&#9728;w's Blog</title>
    <meta name="author" content="Brett Uglow">
    
    
        <link rel="icon" href="/assets/images/icons/favicon.ico">
        <link rel="apple-touch-icon" sizes="57x57" href="/assets/images/icons/apple-icon-57x57.png">
        <link rel="apple-touch-icon" sizes="60x60" href="/assets/images/icons/apple-icon-60x60.png">
        <link rel="apple-touch-icon" sizes="72x72" href="/assets/images/icons/apple-icon-72x72.png">
        <link rel="apple-touch-icon" sizes="76x76" href="/assets/images/icons/apple-icon-76x76.png">
        <link rel="apple-touch-icon" sizes="114x114" href="/assets/images/icons/apple-icon-114x114.png">
        <link rel="apple-touch-icon" sizes="120x120" href="/assets/images/icons/apple-icon-120x120.png">
        <link rel="apple-touch-icon" sizes="144x144" href="/assets/images/icons/apple-icon-144x144.png">
        <link rel="apple-touch-icon" sizes="152x152" href="/assets/images/icons/apple-icon-152x152.png">
        <link rel="apple-touch-icon" sizes="180x180" href="/assets/images/icons/apple-icon-180x180.png">
        <link rel="icon" type="image/png" sizes="192x192"  href="/assets/images/icons/android-icon-192x192.png">
        <link rel="icon" type="image/png" sizes="32x32" href="/assets/images/icons/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="96x96" href="/assets/images/icons/favicon-96x96.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/assets/images/icons/favicon-16x16.png">
        <link rel="manifest" href="manifest.json">
        <meta name="msapplication-TileColor" content="#ffffff">
        <meta name="msapplication-TileImage" content="/assets/images/icons/ms-icon-144x144.png">
        <meta name="theme-color" content="#ffffff">
    

    
        <link rel="alternate" type="application/atom+xml" title="RSS" href="/atom.xml">
    
    <meta name="description" content="The ProblemYou want to keep your code DRY and/or you want to keep data separate form your code.">
<meta name="keywords" content="grunt,include,grunt-plugin">
<meta property="og:type" content="blog">
<meta property="og:title" content="File-include plugins for GruntJS">
<meta property="og:url" content="/2014/02/12/Grunt-File-Include-Plugins/index.html">
<meta property="og:site_name" content="Brett Uglow&#39;s Blog">
<meta property="og:description" content="The ProblemYou want to keep your code DRY and/or you want to keep data separate form your code.">
<meta property="og:locale" content="en">
<meta property="og:updated_time" content="2021-01-19T02:00:34.769Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="File-include plugins for GruntJS">
<meta name="twitter:description" content="The ProblemYou want to keep your code DRY and/or you want to keep data separate form your code.">
<meta name="twitter:creator" content="@u_glow">
    
    
        
    
    
        <meta property="og:image" content="https://www.gravatar.com/avatar/d4a1a3ea9427d86abfbfa7a41bd79637?s=640"/>
    
    
    
        <meta property="og:image" content="/2014/02/12/Grunt-File-Include-Plugins/abstract-10.jpg"/>
        <meta class="swiftype" name="image" data-type="enum" content="/2014/02/12/Grunt-File-Include-Plugins/abstract-10.jpg" />
    
    
    <!--STYLES-->
    <link rel="stylesheet" href="/assets/css/style-sxklfps8ywgfyyjcowvnb4gxdgt0zjts3hsguljmv9uqanxjbnitrovtbrek.min.css">
    <!--STYLES END-->
    
    <script type="text/javascript">
        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-53871788-1']);
        _gaq.push(['_trackPageview']);
        (function() {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();
    </script>

    
</head>

    <body>
        <div id="blog">
            <!-- Define author's picture -->


    
        
    

<header id="header" data-behavior="5">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <div class="header-title">
        <a class="header-title-link" href="/ ">Brett Ugl<span class="sun">&#9728;</span>w's Blog</a>
    </div>
    
        
            <a  class="header-right-picture "
                href="#about">
        
        
            <img class="header-picture" src="https://www.gravatar.com/avatar/d4a1a3ea9427d86abfbfa7a41bd79637?s=90" alt="Author&#39;s picture"/>
        
        </a>
    
</header>

            <!-- Define author's picture -->


    

<nav id="sidebar" data-behavior="5">
    <div class="sidebar-container">
        
            <div class="sidebar-profile">
                <a href="/#about">
                    <img class="sidebar-profile-picture" src="https://www.gravatar.com/avatar/d4a1a3ea9427d86abfbfa7a41bd79637?s=110" alt="Author&#39;s picture"/>
                </a>
                <h4 class="sidebar-profile-name">Brett Uglow</h4>
                
                    <h5 class="sidebar-profile-bio"><p>I am a software engineer (with a focus on the front-end) with 15+ years in the IT industry, working with large telecommunications and financial companies. I’m passionate about creating great user experiences, writing code that is testable + maintainable + efficient, and seeing peoples’ lives changed-for-the-better.</p>
<blockquote>
<p>I am the voice of one crying in the wilderness, “Make straight the way of the Lord!” <code>John 1:23</code></p>
</blockquote>
</h5>
                
            </div>
        
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/ "
                            
                        >
                    
                        <i class="sidebar-button-icon fa fa-lg fa-home"></i>
                        <span class="sidebar-button-desc">Home</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/all-tags"
                            
                        >
                    
                        <i class="sidebar-button-icon fa fa-lg fa-tags"></i>
                        <span class="sidebar-button-desc">Tags</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/all-archives"
                            
                        >
                    
                        <i class="sidebar-button-icon fa fa-lg fa-archive"></i>
                        <span class="sidebar-button-desc">Archives</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link open-algolia-search"
                             href="#search"
                            
                        >
                    
                        <i class="sidebar-button-icon fa fa-lg fa-search"></i>
                        <span class="sidebar-button-desc">Search</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/tips-and-tricks"
                            
                        >
                    
                        <i class="sidebar-button-icon fa fa-lg fa-star"></i>
                        <span class="sidebar-button-desc">Tips &amp; Tricks</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="#about"
                            
                        >
                    
                        <i class="sidebar-button-icon fa fa-lg fa-question"></i>
                        <span class="sidebar-button-desc">About</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="https://github.com/uglow"
                        >
                    
                        <i class="sidebar-button-icon fa fa-lg fa-github"></i>
                        <span class="sidebar-button-desc">GitHub</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="https://medium.com/@u_glow/latest"
                        >
                    
                        <i class="sidebar-button-icon fa fa-lg fa-medium"></i>
                        <span class="sidebar-button-desc">Medium</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="https://twitter.com/u_glow"
                        >
                    
                        <i class="sidebar-button-icon fa fa-lg fa-twitter"></i>
                        <span class="sidebar-button-desc">Twitter</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="https://www.linkedin.com/in/BrettUglow"
                        >
                    
                        <i class="sidebar-button-icon fa fa-lg fa-linkedin"></i>
                        <span class="sidebar-button-desc">LinkedIn</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/atom.xml"
                            
                        >
                    
                        <i class="sidebar-button-icon fa fa-lg fa-rss"></i>
                        <span class="sidebar-button-desc">RSS</span>
                    </a>
            </li>
            
        </ul>
        
    </div>
</nav>

            
        <div class="post-header-cover
                    text-left
                    "
             style="background-image:url('/2014/02/12/Grunt-File-Include-Plugins/abstract-10.jpg');"
             data-behavior="5">
            
                <div class="post-header main-content-wrap text-left">
    
        <h1 class="post-title" itemprop="headline">
            File-include plugins for GruntJS
        </h1>
    
    
        <div class="post-meta">
    <time itemprop="datePublished" datetime="2014-02-12T13:00:00+00:00">
	
		    Feb 12, 2014
    	
    </time>
    
</div>

    
</div>
            
        </div>

            <div id="main" data-behavior="5"
                 class="hasCover
                        hasCoverMetaIn
                        hasCoverCaption">
                
<article class="post" itemscope itemType="http://schema.org/BlogPosting">
    
        <span class="post-header-cover-caption caption"><p><a href="http://www.dargadgetz.com/ios-7-abstract-wallpaper-pack-for-iphone-5-and-ipod-touch-retina/">dargadgetz</a></p>
</span>
    
    
    <div class="post-content markdown" itemprop="articleBody">
        <div class="main-content-wrap">
            <h2 id="The-Problem"><a href="#The-Problem" class="headerlink" title="The Problem"></a>The Problem</h2><p>You want to keep your code <abbr title="Don't repeat yourself">DRY</abbr> and/or you want to keep data separate form your code.</p>
<a id="more"></a>
<p>So you pull the data out of your code into a separate data file (in an XML or JSON format). Sweet! Now you have appropriate syntax codeblocking for your code and data, and you have separated your concerns. But how do you use the data from your code?</p>
<p>Well you can either:</p>
<ul>
<li>Load the data at runtime</li>
<li>OR, recombine the code and data in a compilation step</li>
</ul>
<p>There are pros and cons to both approaches, but lets say that the main priority is you want to avoid an extra HTTP request at runtime. That means that combining the files during compilation is the best option.</p>
<p>There are number of <a href="http://gruntjs.com/" target="_blank" rel="noopener">GruntJS</a> plugins available which purport to offer the required functionality. Let’s take a look at the main features of 4 plugins:</p>
<ol>
<li>grunt-bake</li>
<li>grunt-include-replace-cwd</li>
<li>grunt-includes</li>
<li>grunt-include-replace</li>
</ol>
<h2 id="Key-requirements"><a href="#Key-requirements" class="headerlink" title="Key requirements"></a>Key requirements</h2><h3 id="Include-any-kind-of-file"><a href="#Include-any-kind-of-file" class="headerlink" title="Include any kind of file"></a>Include any kind of file</h3><p>Obviously, the plugin must allow you to include one file from another file:<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">// index.html:</span><br><span class="line">//@@include('indexTemplate.html')</span><br><span class="line"></span><br><span class="line">// indexTemplate.html:</span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">Hello world</span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>This should produce the following index.html file:<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">Hello world</span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>Some plugins are adept and doing file-includes for only certain types of files, usually HTML. This is fine if you only need HTML file-includes.<br>But an ideal solution shouldn’t care what kind of files you want to include. For example, you should be able to do this:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// routeLoader.js:</span></span><br><span class="line">...</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getRoutes</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> routeTable = [];</span><br><span class="line">  <span class="comment">//@@include('routeData.jsonp')</span></span><br><span class="line">  <span class="keyword">return</span> routeTable;</span><br><span class="line">&#125;</span><br><span class="line">...</span><br><span class="line"></span><br><span class="line"><span class="comment">// routeData.jsonp:</span></span><br><span class="line">routeTable = [<span class="string">'really'</span>, <span class="string">'big'</span>, <span class="string">'list'</span>, <span class="string">'of'</span>, <span class="string">'things'</span>, ...];</span><br></pre></td></tr></table></figure>
<p>This should produce the following routeLoader.js file:<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getRoutes</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> routeTable = [];</span><br><span class="line">  routeTable = [<span class="string">'really'</span>, <span class="string">'big'</span>, <span class="string">'list'</span>, <span class="string">'of'</span>, <span class="string">'things'</span>, ...];</span><br><span class="line">  <span class="keyword">return</span> routeTable;</span><br><span class="line">&#125;</span><br><span class="line">...</span><br></pre></td></tr></table></figure></p>
<h3 id="Templates-and-attribute-passing"><a href="#Templates-and-attribute-passing" class="headerlink" title="Templates and attribute passing"></a>Templates and attribute passing</h3><p>This is a really important feature which extends-on from the idea of being able to insert one file into another:<br>the ability to insert one-or-more values into one-or-more places in an included file. For example:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">// indexDev.html:</span><br><span class="line">//@@include('indexTemplate.html', &#123;environment: "Dev"&#125;)</span><br><span class="line"></span><br><span class="line">// indexProd.html:</span><br><span class="line">//@@include('indexTemplate.html', &#123;envirionment: "Prod"&#125;)</span><br><span class="line"></span><br><span class="line">// indexTemplate.html:</span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">Hello world, you're in //@@environment now!</span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>This produces indexDev.html…<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">Hello world, you're in Dev now!</span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>…and indexProd.html<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">Hello world, you're in Prod now!</span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>This capability provides a compile-time template engine! Very powerful.</p>
<h3 id="Template-and-file-include-configurable-syntax"><a href="#Template-and-file-include-configurable-syntax" class="headerlink" title="Template and file-include configurable syntax"></a>Template and file-include configurable syntax</h3><p>The ideal file-include plugin would allow you to set the syntax to use when defining the file-include command and when defining what a template-value looks like.<br>Naïve implementations often use a syntax that conflicts with run-time template engines, or server-side template engines.</p>
<p>For example, if you use AngularJS, it uses { {}} notation for binding to data from within HTML fragments:<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">Hello world, you're in &#123; &#123;environment&#125;&#125; now!</span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>If the file-include plugin uses the same syntax, you’re in trouble because the plugin will replace all the { {}} templates it finds before Angular gets to run!<br>Most of the newer plugins allow you to configure the syntax for both templates and file-include commands:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">includereplace: &#123;</span><br><span class="line">  options: &#123;</span><br><span class="line">    prefix: <span class="string">'//@@'</span>, <span class="comment">// This works for HTML and JS replacements</span></span><br><span class="line">    suffix: <span class="string">''</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Support-for-Grunt-0-4-file-globbing-conventions"><a href="#Support-for-Grunt-0-4-file-globbing-conventions" class="headerlink" title="Support for Grunt 0.4+ file globbing conventions"></a>Support for Grunt 0.4+ file globbing conventions</h3><p>Depending on when the plugin was written, the plugin will support <a href="http://gruntjs.com/configuring-tasks#files" target="_blank" rel="noopener">different syntaxes</a> for file specifications.<br>You don’t want to have to specify every single file that has an include in it (unless you have a really-small project… size DOES matter).</p>
<p>For example, the following sub-tasks should be supported by your plugin:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">include-plugin: &#123;</span><br><span class="line">  <span class="comment">// Specify a list of JS files as inputs, and output them into the output/js directory</span></span><br><span class="line">  js: &#123;</span><br><span class="line">    files: [</span><br><span class="line">      &#123; <span class="attr">expand</span>: <span class="literal">true</span>, <span class="attr">cwd</span>: <span class="string">'\&lt;%= env.environment.outputDir %&gt;/js'</span>, <span class="attr">src</span>: [<span class="string">'*.js'</span>], <span class="attr">dest</span>: <span class="string">'\&lt;%= env.environment.outputDir %&gt;/js/'</span> &#125;,</span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// Find all JS files in the test directory, at any depth, and output them to the output/test directory</span></span><br><span class="line">  test: &#123;</span><br><span class="line">    files: [</span><br><span class="line">      &#123; <span class="attr">expand</span>: <span class="literal">true</span>, <span class="attr">cwd</span>: <span class="string">'\&lt;%= env.environment.outputDir %&gt;/test'</span>, <span class="attr">src</span>: [<span class="string">'**/*.js'</span>], <span class="attr">dest</span>: <span class="string">'\&lt;%= env.environment.outputDir %&gt;/test/'</span> &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// Find all html files in the output directory, except for ones ending in '...Template.html' and output them to the output directory</span></span><br><span class="line">  <span class="comment">// Note that we are over-writing the original files, and that's ok!</span></span><br><span class="line">  web: &#123;</span><br><span class="line">    files: [</span><br><span class="line">      &#123; <span class="attr">expand</span>: <span class="literal">true</span>, <span class="attr">cwd</span>: <span class="string">'\&lt;%= env.environment.outputDir %&gt;'</span>, <span class="attr">src</span>: [<span class="string">'*.html'</span>, <span class="string">'!*Template.html'</span>], <span class="attr">dest</span>: <span class="string">'\&lt;%= env.environment.outputDir %&gt;/'</span> &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Note that in all cases, none of the matching source files are expected to be concatenated into a single file by the plugin. </p>
<h3 id="Other-features"><a href="#Other-features" class="headerlink" title="Other features"></a>Other features</h3><p>Some plugins support conditional logic in their templating, which can be useful if you are heavily using the templating features.<br>In my case, I don’t need this functionality.</p>
<h2 id="Plugins"><a href="#Plugins" class="headerlink" title="Plugins"></a>Plugins</h2><h3 id="grunt-bake"><a href="#grunt-bake" class="headerlink" title="grunt-bake"></a>grunt-bake</h3><p>When I was first looking for a file-include plugin, <a href="https://github.com/MathiasPaumgarten/grunt-bake" target="_blank" rel="noopener">grunt-bake</a> was the first plugin I could get working.<br>After using it a bit more and finding that it didn’t support specifying a directory as a destination, I created a local patch to do it.<br>This patch had to be installed before any other Grunt tasks were run, so it became a glaring sign that something wasn’t right. In the end, the need<br>for the patch file drove me to explore other file-include plugins further.</p>
<p>Features:</p>
<ul>
<li>File include capability</li>
<li>Inline attributes for included files</li>
<li>Attributes via Gruntfile.js</li>
<li>Configurable template replacement pattern</li>
<li>Conditional logic (if, for)</li>
</ul>
<p>Missing Features:</p>
<ul>
<li>Specifying a directory as a destination for processed files</li>
<li>Configurable file-include syntax pattern</li>
</ul>
<h3 id="grunt-include-replace-cwd"><a href="#grunt-include-replace-cwd" class="headerlink" title="grunt-include-replace-cwd"></a>grunt-include-replace-cwd</h3><p>I didn’t investigate <a href="https://www.npmjs.org/package/grunt-include-replace-cwd" target="_blank" rel="noopener">grunt-include-replace-cwd</a> in much depth due to it’s age, lack of<br>examples and the sense that it was not being maintained.</p>
<p>Features:</p>
<ul>
<li>File include capability</li>
<li>Configurable template replacement pattern</li>
<li>Configurable file-include syntax pattern</li>
<li>Specifying a directory as a destination for processed files</li>
<li>Inline attributes for included files</li>
<li>Attributes via Gruntfile.js</li>
</ul>
<p>Missing Features:</p>
<ul>
<li>Conditional logic (if, for)</li>
</ul>
<h3 id="grunt-includes"><a href="#grunt-includes" class="headerlink" title="grunt-includes"></a>grunt-includes</h3><p><a href="https://www.npmjs.org/package/grunt-includes" target="_blank" rel="noopener">grunt-includes</a> supports basic file-include features, but does not support attribute-passing or templates.</p>
<p>Features:</p>
<ul>
<li>File include capability</li>
<li>Configurable template replacement pattern</li>
<li>Configurable file-include syntax pattern</li>
<li>Specifying a directory as a destination for processed files</li>
</ul>
<p>Missing Features:</p>
<ul>
<li>Inline attributes for included files</li>
<li>Attributes via Gruntfile.js</li>
<li>Conditional logic (if, for)</li>
</ul>
<h3 id="grunt-include-replace"><a href="#grunt-include-replace" class="headerlink" title="grunt-include-replace"></a>grunt-include-replace</h3><p><a href="https://www.npmjs.org/package/grunt-include-replace" target="_blank" rel="noopener">include-replace</a> is a great plugin which met my main requirements. </p>
<p>Features:</p>
<ul>
<li>File include capability</li>
<li>Inline attributes for included files</li>
<li>Attributes via Gruntfile.js</li>
<li>Configurable template replacement pattern</li>
<li>Specifying a directory as a destination for processed files</li>
<li>Configurable file-include syntax pattern</li>
</ul>
<p>Missing Features:</p>
<ul>
<li>Conditional logic (if, for)</li>
</ul>
<h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p>After evaluating these plugins, I decided on <a href="https://www.npmjs.org/package/grunt-include-replace" target="_blank" rel="noopener">include-replace</a> for the following reasons:</p>
<ul>
<li>It supports normal Grunt 0.4+ file source/destination conventions. You don’t want to have to specify a destination file pattern for<br>each source file-pattern, which is what some plugins forced you to do. Alternatively, they interpreted a directory specification as “concatenate all source files into the specified directory”!</li>
<li>It supports configurable file and template syntax which means that the plugin won’t interfere with any other template syntax that is in use (such as AngularJS, Handlebars, JSPs). It also allows me to choose a syntax that is ignored by lint-checkers for JS and HTML files. </li>
<li>It supports passing attributes to included-files globally (via Gruntfile.js) and inline.</li>
</ul>
<p>After using it for a month, it performs reliably and does what I need it to.</p>

            
        </div>
    </div>
    <div id="post-footer" class="post-footer main-content-wrap">
        
            <div class="post-footer-tags">
                <span class="text-color-light text-small">TAGGED IN</span><br/>
                
    <a class="tag tag--primary tag--small t-link" href="/tags/grunt/">grunt</a> <a class="tag tag--primary tag--small t-link" href="/tags/grunt-plugin/">grunt-plugin</a> <a class="tag tag--primary tag--small t-link" href="/tags/include/">include</a>

            </div>
        
        
            <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2014/06/25/AngularJS-Melbourne-Talk/"  data-tooltip="AngularJS Melbourne talk">
                
                    <i class="fa fa-angle-left"></i>
                    <span class="hide-xs hide-sm text-small icon-ml">PREVIOUS</span>
                </a>
            </li>
            <li class="post-action">
                
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2014/02/02/Setup-Jekyll-For-GitHub/" data-tooltip="Setup Jekyll for Github Pages">
                
                    <span class="hide-xs hide-sm text-small icon-mr">NEXT</span>
                    <i class="fa fa-angle-right"></i>
                </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a class="post-action-btn btn btn--default btn-open-shareoptions"  href="#btn-open-shareoptions">
                <i class="fa fa-share-alt"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=/2014/02/12/Grunt-File-Include-Plugins/">
                    <i class="fa fa-facebook-official"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=/2014/02/12/Grunt-File-Include-Plugins/">
                    <i class="fa fa-twitter"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=/2014/02/12/Grunt-File-Include-Plugins/">
                    <i class="fa fa-google-plus"></i>
                </a>
            </li>
        
        
            <li class="post-action">
                <a class="post-action-btn btn btn--default" href="#disqus_thread">
                    <i class="fa fa-comment-o"></i>
                </a>
            </li>
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#">
            
                <i class="fa fa-list"></i>
            </a>
        </li>
    </ul>
</div>


        
        
            
                <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
            
        
    </div>
</article>



                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2021 Brett Uglow. All Rights Reserved.
    </span>
</footer>

            </div>
            
                <div id="bottom-bar" class="post-bottom-bar" data-behavior="5">
                    <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2014/06/25/AngularJS-Melbourne-Talk/"  data-tooltip="AngularJS Melbourne talk">
                
                    <i class="fa fa-angle-left"></i>
                    <span class="hide-xs hide-sm text-small icon-ml">PREVIOUS</span>
                </a>
            </li>
            <li class="post-action">
                
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2014/02/02/Setup-Jekyll-For-GitHub/" data-tooltip="Setup Jekyll for Github Pages">
                
                    <span class="hide-xs hide-sm text-small icon-mr">NEXT</span>
                    <i class="fa fa-angle-right"></i>
                </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a class="post-action-btn btn btn--default btn-open-shareoptions"  href="#btn-open-shareoptions">
                <i class="fa fa-share-alt"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=/2014/02/12/Grunt-File-Include-Plugins/">
                    <i class="fa fa-facebook-official"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=/2014/02/12/Grunt-File-Include-Plugins/">
                    <i class="fa fa-twitter"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=/2014/02/12/Grunt-File-Include-Plugins/">
                    <i class="fa fa-google-plus"></i>
                </a>
            </li>
        
        
            <li class="post-action">
                <a class="post-action-btn btn btn--default" href="#disqus_thread">
                    <i class="fa fa-comment-o"></i>
                </a>
            </li>
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#">
            
                <i class="fa fa-list"></i>
            </a>
        </li>
    </ul>
</div>


                </div>
                <div id="share-options-bar" class="share-options-bar" data-behavior="5">
    <i id="btn-close-shareoptions" class="fa fa-close"></i>
    <ul class="share-options">
        
            
            
            <li class="share-option">
                <a class="share-option-btn" target="new" href="https://www.facebook.com/sharer/sharer.php?u=/2014/02/12/Grunt-File-Include-Plugins/">
                    <i class="fa fa-facebook-official"></i><span>Share on Facebook</span>
                </a>
            </li>
        
            
            
            <li class="share-option">
                <a class="share-option-btn" target="new" href="https://twitter.com/intent/tweet?text=/2014/02/12/Grunt-File-Include-Plugins/">
                    <i class="fa fa-twitter"></i><span>Share on Twitter</span>
                </a>
            </li>
        
            
            
            <li class="share-option">
                <a class="share-option-btn" target="new" href="https://plus.google.com/share?url=/2014/02/12/Grunt-File-Include-Plugins/">
                    <i class="fa fa-google-plus"></i><span>Share on Google+</span>
                </a>
            </li>
        
    </ul>
</div>

            
        </div>
        


    

<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-remove"></i>
        </div>
        
            <img id="about-card-picture" src="https://www.gravatar.com/avatar/d4a1a3ea9427d86abfbfa7a41bd79637?s=110" alt="Author&#39;s picture"/>
        
            <h4 id="about-card-name">Brett Uglow</h4>
        
            <div id="about-card-bio"><p>I am a software engineer (with a focus on the front-end) with 15+ years in the IT industry, working with large telecommunications and financial companies. I’m passionate about creating great user experiences, writing code that is testable + maintainable + efficient, and seeing peoples’ lives changed-for-the-better.</p>
<blockquote>
<p>I am the voice of one crying in the wilderness, “Make straight the way of the Lord!” <code>John 1:23</code></p>
</blockquote>
</div>
        
        
            <div id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br/>
                <p>Principal Engineer @ <a href="https://www.digio.com.au">DigIO</a></p>

            </div>
        
        
            <div id="about-card-location">
                <i class="fa fa-map-marker"></i>
                <br/>
                Melbourne, Australia
            </div>
        
    </div>
</div>

        <div id="algolia-search-modal" class="modal-container">
    <div class="modal">
        <div class="modal-header">
            <span class="close-button"><i class="fa fa-close"></i></span>
            <a href="https://algolia.com" target="_blank" rel="noopener" class="searchby-algolia text-color-light link-unstyled">
                <span class="searchby-algolia-text text-color-light text-small">by</span>
                <img class="searchby-algolia-logo" src="https://www.algolia.com/static_assets/images/press/downloads/algolia-light.svg">
            </a>
            <i class="search-icon fa fa-search"></i>
            <form id="algolia-search-form">
                <input type="text" id="algolia-search-input" name="search"
                    class="form-control input--large search-input" placeholder="Search "
                    />
            </form>
        </div>
        <div class="modal-body">
            <div class="no-result text-color-light text-center">no post found</div>
            <div class="results">
                
                <div class="media">
                    
                    <div class="media-left">
                        <a class="link-unstyled" href="/2013/10/01/first-post/">
                            <img class="media-image" src="/2013/10/01/first-post/abstract-3.jpg" width="90" height="90"/>
                        </a>
                    </div>
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="/2013/10/01/first-post/">
                            <h3 class="media-heading">Ugl<span class='sun'>&#9728;</span>w on GitHub</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    Oct 1, 2013
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><p>A blog site that’s not a pain-in-the-bottom to setup and configure!</p></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-left">
                        <a class="link-unstyled" href="/2013/10/23/Australia-Post-mobile-website-is-live/">
                            <img class="media-image" src="/2013/10/23/Australia-Post-mobile-website-is-live/header.jpg" width="90" height="90"/>
                        </a>
                    </div>
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="/2013/10/23/Australia-Post-mobile-website-is-live/">
                            <h3 class="media-heading">Australia Post's new mobile website is live!</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    Oct 23, 2013
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><p>Congratulations to Australia Post on their <a href="https://m.auspost.com.au" target="_blank">new mobile website</a>!</p></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="/2013/10/29/Front-End-Automation-Presentation-Greatness/">
                            <h3 class="media-heading">Front-end Automation presentation greatness</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    Oct 29, 2013
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="/2013/10/30/Grunt-Server/">
                            <h3 class="media-heading">Grunt live-reloading</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    Oct 30, 2013
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><p>This post explains how I got live-reloading to work with Grunt.</p></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-left">
                        <a class="link-unstyled" href="/2013/10/31/Lessons-from-client-website-engagement/">
                            <img class="media-image" src="/2013/10/31/Lessons-from-client-website-engagement/abstract-2.jpg" width="90" height="90"/>
                        </a>
                    </div>
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="/2013/10/31/Lessons-from-client-website-engagement/">
                            <h3 class="media-heading">Notes from a recent mobile project</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    Oct 31, 2013
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><p>I have been developing a website for a top-tier client in Melbourne. The site is built using AngularJS (v1.1.5 as of time of writing), SASS, Compass and GruntJs to pull it all together. The development team consisted of myself as lead dev, Mario Skouros, Peter Mescalchin and Steven Yip, with assistance from Michael Black and Vlado Grancaric. Well done guys!</p></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="/2014/02/02/Setup-Jekyll-For-GitHub/">
                            <h3 class="media-heading">Setup Jekyll for Github Pages</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    Feb 2, 2014
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><p>One of the great features of GitHub is that it allows you to host static content. This post looks at how this blog is published to GitHub.</p></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-left">
                        <a class="link-unstyled" href="/2014/02/12/Grunt-File-Include-Plugins/">
                            <img class="media-image" src="/2014/02/12/Grunt-File-Include-Plugins/abstract-10.jpg" width="90" height="90"/>
                        </a>
                    </div>
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="/2014/02/12/Grunt-File-Include-Plugins/">
                            <h3 class="media-heading">File-include plugins for GruntJS</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    Feb 12, 2014
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><h2 id="The-Problem"><a href="#The-Problem" class="headerlink" title="The Problem"></a>The Problem</h2><p>You want to keep your code <abbr title="Don't repeat yourself">DRY</abbr> and/or you want to keep data separate form your code.</p></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-left">
                        <a class="link-unstyled" href="/2014/06/25/AngularJS-Melbourne-Talk/">
                            <img class="media-image" src="/2014/06/25/AngularJS-Melbourne-Talk/abstract-10.jpg" width="90" height="90"/>
                        </a>
                    </div>
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="/2014/06/25/AngularJS-Melbourne-Talk/">
                            <h3 class="media-heading">AngularJS Melbourne talk</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    Jun 25, 2014
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><p>On Monday 23rd June, I was privileged to attend the first <a href="http://www.meetup.com/AngularJS-Melbourne/events/180144952/" target="_blank" rel="noopener">AngularJS Melbourne Meetup</a><br>as a guest speaker. Thanks to <a href="http://www.meetup.com/AngularJS-Melbourne/members/46442222/" target="_blank" rel="noopener">Alex</a> for organising the event. It was a great night!</p></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-left">
                        <a class="link-unstyled" href="/2014/06/30/Install-Node-OSX-No-Sudo/">
                            <img class="media-image" src="/2014/06/30/Install-Node-OSX-No-Sudo/abstract-2.jpg" width="90" height="90"/>
                        </a>
                    </div>
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="/2014/06/30/Install-Node-OSX-No-Sudo/">
                            <h3 class="media-heading">Simple sudo-less NPM installs on OSX</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    Jun 30, 2014
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><p>OK, so I finally understand <a href="http://blog.hood.ie/2014/02/why-you-shouldnt-use-sudo-with-npm/" target="_blank" rel="noopener">why it’s bad</a> to use <code>sudo npm install</code>.</p></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-left">
                        <a class="link-unstyled" href="/2014/07/31/Accessibility-on-iOS7/">
                            <img class="media-image" src="/2014/07/31/Accessibility-on-iOS7/abstract-7.jpg" width="90" height="90"/>
                        </a>
                    </div>
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="/2014/07/31/Accessibility-on-iOS7/">
                            <h3 class="media-heading">Web Accessibility on iOS7 devices</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    Jul 31, 2014
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><p><strong>UPDATE August 2nd 2014: The <a href="http://m.auspost.com.au/" target="_blank" rel="noopener">Australia Post mobile site</a> has been deemed AA compliant with respect to the WCAG accessibility guidelines!</strong></p>
<p>This page is dedicated to documenting some of the lessons learnt while implementing accessibility on iOS devices for the <a href="http://m.auspost.com.au/" target="_blank" rel="noopener">Australia Post mobile site</a>.</p></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
            </div>
        </div>
        <div class="modal-footer">
            <p class="results-count text-medium"
                data-message-zero="no post found"
                data-message-one="1 post found"
                data-message-other="{n} posts found">
                43 posts found
            </p>
        </div>
    </div>
</div>

        
<div id="cover" style="background-image:url('/assets/images/cover.jpg');"></div>
        <!--SCRIPTS-->
<script src="/assets/js/script-ivwiy10zeb8fifc4swnhkwneuk64y53w2scmdmtp8thi9cqfxh31aowtroaz.min.js"></script>
<!--SCRIPTS END-->

    
        <script>
             var disqus_config = function () {
                 // page.url needs to be fully qualified
                 this.page.url = location.protocol + location.host + location.port + '/2014/02/12/Grunt-File-Include-Plugins/';
                 
                    this.page.identifier = '2014/02/12/Grunt-File-Include-Plugins/';
                 
             };
            (function() {
                var d = document, s = d.createElement('script');
                var disqus_shortname = 'uglowsblog';
                s.src = '//' + disqus_shortname + '.disqus.com/embed.js';

                s.setAttribute('data-timestamp', +new Date());
                (d.head || d.body).appendChild(s);
            })();
        </script>
    


    </body>
</html>
